{
 "add_total_row": 1,
 "columns": [
  {
   "fieldname": "cours",
   "fieldtype": "Link",
   "label": "Cours",
   "width": 0
  },
  {
   "fieldname": "nombre_sessions",
   "fieldtype": "Int",
   "label": "Nombre de session",
   "width": 0
  }
 ],
 "creation": "2025-11-27 19:43:42.067576",
 "disable_prepared_report": 0,
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [
  {
   "fieldname": "cours",
   "fieldtype": "Link",
   "label": "Cours",
   "mandatory": 0,
   "wildcard_filter": 0
  },
  {
   "fieldname": "actif",
   "fieldtype": "Check",
   "label": "Statut",
   "mandatory": 0,
   "wildcard_filter": 0
  }
 ],
 "idx": 0,
 "is_standard": "Yes",
 "letter_head": "Ent\u00eate DEV OFS",
 "modified": "2025-12-02 13:08:43.533546",
 "modified_by": "Administrator",
 "module": "Formation Management",
 "name": "Total revenus par cours",
 "owner": "Administrator",
 "prepared_report": 0,
 "ref_doctype": "Session de Formation",
 "report_name": "Total revenus par cours",
 "report_script": "def execute(filters=None):\r\n    columns = [\r\n        {\"fieldname\": \"name\", \"label\": \"Session\", \"fieldtype\": \"Link\", \"options\": \"Session de Formation\", \"width\": 120},\r\n        {\"fieldname\": \"cours\", \"label\": \"Cours\", \"fieldtype\": \"Link\", \"options\": \"Cours\", \"width\": 100},\r\n        {\"fieldname\": \"date_debut\", \"label\": \"Date D\u00e9but\", \"fieldtype\": \"Date\", \"width\": 100},\r\n        {\"fieldname\": \"date_fin\", \"label\": \"Date Fin\", \"fieldtype\": \"Date\", \"width\": 100},\r\n        {\"fieldname\": \"lieu\", \"label\": \"Lieu\", \"fieldtype\": \"Data\", \"width\": 150},\r\n        {\"fieldname\": \"participants_count\", \"label\": \"Participants\", \"fieldtype\": \"Int\", \"width\": 80},\r\n    ]\r\n    \r\n    # Requ\u00eate pour r\u00e9cup\u00e9rer les sessions du cours 00001\r\n    data = frappe.db.sql(\"\"\"\r\n        SELECT \r\n            s.name,\r\n            s.cours,\r\n            s.date_debut,\r\n            s.date_fin,\r\n            s.lieu,\r\n            (SELECT COUNT(*) FROM `tabParticipant` p WHERE p.parent = s.name) as participants_count\r\n        FROM `tabSession de Formation` s\r\n        WHERE s.cours = 'COURS000001'\r\n        ORDER BY s.date_debut DESC\r\n    \"\"\", as_dict=1)\r\n    \r\n    return columns, data",
 "report_type": "Script Report",
 "roles": [
  {
   "role": "System Manager"
  },
  {
   "role": "Accounts User"
  },
  {
   "role": "Accounts Manager"
  }
 ]
}